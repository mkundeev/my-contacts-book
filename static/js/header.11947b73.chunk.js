"use strict";(self.webpackChunkmy_contacts_book=self.webpackChunkmy_contacts_book||[]).push([[19],{750:function(e,n,r){r.r(n),r.d(n,{default:function(){return S}});var s=r(3504),a=r(5048),t=r(6351),i=r(5861),o=r(9439),l=r(7757),c=r.n(l),u=r(2791),d=r(759),h=r(9726),_=r(5206),p=r(2477),m=r(1268),v=r(7847),x="Avatar_avatar__Uauly",b=r(184);function j(e){var n=e.avatar;return(0,b.jsx)("div",{className:x,children:(0,b.jsx)("img",{className:x,alt:"avatar",src:n})})}var g=r(159),f=r(765),k=r(1462),N=r(1417),L=r(5291),Z="SubscriptionRadioButton_container__VdnXT",C="SubscriptionRadioButton_button__58s9x";function I(e){var n=e.onClose,r=(0,h.ii)(),s=(0,o.Z)(r,1)[0],a=(0,u.useState)(""),t=(0,o.Z)(a,2),i=t[0],l=t[1],c=function(e){l(e.target.value)};return(0,b.jsx)("div",{className:Z,children:(0,b.jsxs)(N.Z,{children:[(0,b.jsx)(L.Z,{id:"subscription-row-radio-buttons-group-label",children:"Subscription"}),(0,b.jsxs)(f.Z,{row:!0,"aria-labelledby":"subscription-row-radio-buttons-group-label",name:"subscription-radio-buttons-group",children:[(0,b.jsx)(k.Z,{value:"starter",control:(0,b.jsx)(g.Z,{}),label:"starter",onChange:c}),(0,b.jsx)(k.Z,{value:"pro",control:(0,b.jsx)(g.Z,{}),label:"pro",onChange:c}),(0,b.jsx)(k.Z,{value:"business",control:(0,b.jsx)(g.Z,{}),label:"business",onChange:c})]}),(0,b.jsx)("button",{type:"submit",onClick:function(e){e.preventDefault(),s({subscription:i}),n()},className:C,children:"Change subscription"})]})})}var H={hederList:"UserMenu_hederList__O+zPt",link:"UserMenu_link__d6eY9",userProfileLink:"UserMenu_userProfileLink__P9PTB",button:"UserMenu_button__310Zp",visuallyHidden:"UserMenu_visuallyHidden__JdMAC",userInfoWrap:"UserMenu_userInfoWrap__CvQmI",name:"UserMenu_name__Estw5",subscription:"UserMenu_subscription__9aH8g"};function w(){var e=(0,a.I0)(),n=(0,h.d3)(),r=(0,o.Z)(n,1)[0],s=(0,h.Rq)(),l=(0,o.Z)(s,1)[0],x=(0,a.v9)(t.LP),g=(0,a.v9)(t.oY),f=(0,a.v9)(t.wX),k=(0,a.v9)(t.pI),N=(0,u.useState)(null),L=(0,o.Z)(N,2),Z=L[0],C=L[1],w=function(){C(null)},y=Boolean(Z),S=y?"simple-popover":void 0,M=function(){var e=(0,i.Z)(c().mark((function e(n){var r,s;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.target.files[0]){e.next=3;break}return e.abrupt("return");case 3:if("image/jpeg"===r.type||"image/png"===r.type){e.next=6;break}return _.Am.error("Avatar shoude be image",{position:_.Am.POSITION.TOP_RIGHT}),e.abrupt("return");case 6:return(s=new FormData).append("avatar",r),e.next=10,l(s).unwrap();case 10:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("ul",{className:H.hederList,children:[(0,b.jsxs)("li",{className:H.userProfileLink,children:[(0,b.jsx)(p.Z,{title:"Change avatar",children:(0,b.jsxs)("label",{className:H.avatar,children:[(0,b.jsx)(j,{avatar:f}),(0,b.jsx)("input",{type:"file",className:H.visuallyHidden,onChange:M})]})}),(0,b.jsxs)("div",{className:H.userInfoWrap,children:[(0,b.jsx)("p",{className:H.name,children:g}),(0,b.jsx)(p.Z,{title:"Change subscription",children:(0,b.jsxs)("p",{className:H.subscription,onClick:function(e){C(e.currentTarget)},children:["Subscription: ",k]})})]})]}),(0,b.jsx)("li",{className:H.hederListItem,children:(0,b.jsx)("button",{type:"button",className:H.button,onClick:function(){return r(x).unwrap().then((function(){e((0,d.zb)()),v.h.dispatch(h.Rg.util.resetApiState())}))},children:"Log out"})})]}),(0,b.jsx)(m.ZP,{id:S,open:y,anchorEl:Z,onClose:w,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:(0,b.jsx)(I,{onClose:w})})]})}var y={header:"Header_header__HXQOm",logo:"Header_logo__UsziS",logoSpan:"Header_logoSpan__WB-7a",hederList:"Header_hederList__IT50G",link:"Header_link__xIhZh",linkActive:"Header_linkActive__TVRWg Header_link__xIhZh",headerBottomLine:"Header_headerBottomLine__CMBwL"};function S(){var e=(0,a.v9)(t.M7),n=function(e){return e.isActive?y.linkActive:y.link};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("header",{className:y.header,children:[(0,b.jsxs)("div",{className:y.logo,children:[(0,b.jsx)("span",{className:y.logoSpan,children:"Contacts"}),"book"]}),(0,b.jsx)("div",{className:y.hederLinkWrap,children:e?(0,b.jsx)(w,{}):(0,b.jsxs)("ul",{className:y.hederList,children:[(0,b.jsx)("li",{className:y.hederListItem,children:(0,b.jsx)(s.OL,{to:"/authorization",className:n,children:"Log In"})}),(0,b.jsx)("li",{className:y.hederListItem,children:(0,b.jsx)(s.OL,{to:"/registration",className:n,children:"Registration"})})]})})]}),(0,b.jsx)("div",{className:y.headerBottomLine})]})}}}]);
//# sourceMappingURL=header.11947b73.chunk.js.map