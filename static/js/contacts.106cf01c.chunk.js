"use strict";(self.webpackChunkmy_contacts_book=self.webpackChunkmy_contacts_book||[]).push([[421],{8909:function(e,a,n){n.d(a,{Z:function(){return r}});var t="Container_container__VVOCq",s=n(184);function r(e){var a=e.children;return(0,s.jsx)("div",{className:t,children:a})}},5084:function(e,a,n){n.r(a),n.d(a,{default:function(){return Y}});var t=n(9439),s=n(2791),r=n(9726),i=n(5206),o=n(8909),c=n(5705),l=n(1089),m={form:"ContactForm_form__dhl+T",item:"ContactForm_item__zE+8S",label:"ContactForm_label__-cVXI",button:"ContactForm_button__eSwX9",error:"ContactForm_error__C1smZ"},d=n(184);function u(e){var a=e.name,n=void 0===a?"Name":a,t=e.phone,s=void 0===t?"Number":t,r=e.email,i=void 0===r?"Email":r,o=e.changeData,u=e.onSubmit;return(0,d.jsx)(c.J9,{initialValues:{name:"",phone:"",email:""},validationSchema:l.Ry(o?{name:l.Z_().matches(/(^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$)/,"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan"),phone:l.Z_().matches(/(\+?\d{1,4}?[-.\s]?\(?\d{1,3}?\)?[-.\s]?\d{1,4}[-.\s]?\d{1,4}[-.\s]?\d{1,9})/,"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +"),email:l.Z_().email("Please provide valid e-mail")}:{name:l.Z_().matches(/(^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$)/,"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan").required("Required"),phone:l.Z_().matches(/(\+?\d{1,4}?[-.\s]?\(?\d{1,3}?\)?[-.\s]?\d{1,4}[-.\s]?\d{1,4}[-.\s]?\d{1,9})/,"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +").required("Required"),email:l.Z_().email("Please provide valid e-mail")}),onSubmit:function(e,a){var n=a.setSubmitting,t=a.resetForm;u(e),n(!1),t({})},children:(0,d.jsxs)(c.l0,{className:m.form,children:[(0,d.jsx)("label",{htmlFor:"name",className:m.label,children:n}),(0,d.jsx)(c.gN,{name:"name",type:"text",className:m.input}),(0,d.jsx)(c.Bc,{name:"name",render:function(e){return(0,d.jsx)("div",{className:m.error,children:e})}}),(0,d.jsx)("label",{htmlFor:"phone",className:m.label,children:s}),(0,d.jsx)(c.gN,{name:"phone",type:"tel",className:m.input}),(0,d.jsx)(c.Bc,{name:"phone",render:function(e){return(0,d.jsx)("div",{className:m.error,children:e})}}),(0,d.jsx)("label",{htmlFor:"email",className:m.label,children:i}),(0,d.jsx)(c.gN,{name:"email",type:"email",className:m.input}),(0,d.jsx)(c.Bc,{name:"email",render:function(e){return(0,d.jsx)("div",{className:m.error,children:e})}}),(0,d.jsx)("button",{type:"submit",className:m.button,children:o?"Change details":"Add contact"})]})})}var h=n(3433),_=n(8820),x=n(2299),p=n.n(x),j="ContactItem_contactItem__aUSMv",v="ContactItem_email__zenYm",f="ContactItem_number__2mm0v",N="ContactItem_button__3O59k",b="ContactItem_isFavorite__DnxME",C="ContactItem_contactWrap__0zsjP",Z="ContactItem_buttonWrap__mQm49",g="ContactItem_innerButtonWrap__KYY4v",I=n(1268),F=n(2477);function y(e){var a=e.name,n=e.phone,o=e.id,c=e.email,l=e.favorite,m=(0,r.Nt)(),h=(0,t.Z)(m,2),x=h[0],y=h[1].isLoading,A=(0,r.mG)(),z=(0,t.Z)(A,1)[0],O=(0,r.Be)(),P=(0,t.Z)(O,1)[0],S=(0,r.wY)().data,k=(0,s.useState)(null),w=(0,t.Z)(k,2),T=w[0],B=w[1],L=function(){B(null)},E=Boolean(T),H=E?"simple-popover":void 0;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:Z,children:[(0,d.jsx)(F.Z,{title:"Add to favorite",children:(0,d.jsx)("button",{onClick:function(){P({favorite:!l,contactId:o})},type:"button",className:N,children:l?(0,d.jsx)(_.pHD,{className:b}):(0,d.jsx)(_.y5j,{className:b})})}),(0,d.jsxs)("div",{className:g,children:[(0,d.jsx)(F.Z,{title:"Change details",children:(0,d.jsx)("button",{onClick:function(e){B(e.currentTarget)},type:"button",className:N,children:(0,d.jsx)(_.xRF,{})})}),(0,d.jsx)(F.Z,{title:"Delete contact",children:(0,d.jsx)("button",{onClick:function(){return x(o)},type:"button",className:N,children:y?(0,d.jsx)(p(),{size:"16px",color:"white"}):(0,d.jsx)(_.oHP,{})})})]})]}),(0,d.jsxs)("ul",{className:C,children:[(0,d.jsxs)("li",{className:j,children:["Phone:",(0,d.jsx)("a",{href:"tel:".concat(n),className:f,children:n})]}),(0,d.jsxs)("li",{className:j,children:["Email:",(0,d.jsx)("a",{href:"mailto:".concat(c),className:v,children:c})]})]}),(0,d.jsx)(I.ZP,{id:H,open:E,anchorEl:T,onClose:L,anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"center",horizontal:"center"},children:(0,d.jsx)(u,{name:a,phone:n,email:c,changeData:!0,onSubmit:function(e){S.some((function(a){return a.name===e.name}))?i.Am.error("".concat(e.name," is already in contacts"),{position:i.Am.POSITION.TOP_RIGHT}):e.name||e.phone||e.email?(!e.name&&(e.name=a),!e.phone&&(e.phone=n),!e.email&&(e.email=c),z({contact:e,contactId:o}),L()):L()}})})]})}var A=n(6823),z=n(5818),O=n(3721),P=n(4373),S="ContactList_list__csErn",k="ContactList_accordion__kz4dM",w="ContactList_itemListTitle__eKh6H",T="ContactList_item__EZYHO";function B(e){var a=e.contacts;return(0,d.jsx)("ul",{className:S,children:a&&(0,h.Z)(a).sort((function(e,a){var n=e.favorite,t=a.favorite;return Number(t)-Number(n)})).map((function(e){var a=e.name,n=e.phone,t=e._id,s=e.email,r=e.favorite;return(0,d.jsx)("li",{className:T,children:(0,d.jsxs)(A.Z,{className:k,children:[(0,d.jsx)(z.Z,{"aria-controls":a,id:t,expandIcon:(0,d.jsx)(P.OId,{}),className:w,children:a}),(0,d.jsx)(O.Z,{children:(0,d.jsx)(y,{name:a,phone:n,id:t,email:s,favorite:r})})]})},t)}))})}var L={filter:"Filter_filter__vxThR"};function E(e){var a=e.changeFilter;return(0,d.jsxs)("div",{className:L.filter,children:[(0,d.jsx)("label",{htmlFor:"filter",className:L.title,children:"Find contacts"}),(0,d.jsx)("input",{className:L.input,id:"filter",onChange:function(e){return a(e.target.value)}})]})}var H="Notification_message__iUHOw";function R(e){var a=e.message;return(0,d.jsx)("p",{className:H,children:a})}var M="page_contactsPageWrap__IQXbX";function Y(){var e=(0,s.useState)(""),a=(0,t.Z)(e,2),n=a[0],c=a[1],l=(0,r.wY)().data,m=(0,r.Tn)(),h=(0,t.Z)(m,1)[0],_=(0,s.useMemo)((function(){if(l){var e=n.toLowerCase();return l.filter((function(a){return a.name.toLowerCase().includes(e)}))}}),[l,n]);return(0,d.jsxs)("div",{className:M,children:[(0,d.jsxs)(o.Z,{children:[(0,d.jsx)("h2",{children:"Contactsbook menu"}),(0,d.jsx)(u,{onSubmit:function(e){l.some((function(a){return a.name===e.name}))?i.Am.error("".concat(e.name," is already in contacts"),{position:i.Am.POSITION.TOP_RIGHT}):h(e)}}),(0,d.jsx)(E,{changeFilter:c})]}),(0,d.jsxs)(o.Z,{style:{position:"relative"},children:[(0,d.jsx)("h2",{children:"Contacts"}),(null===_||void 0===_?void 0:_.length)>0&&(0,d.jsx)(B,{contacts:_}),0===(null===_||void 0===_?void 0:_.length)&&(0,d.jsx)(R,{message:"No contacts found"})]})]})}}}]);
//# sourceMappingURL=contacts.106cf01c.chunk.js.map