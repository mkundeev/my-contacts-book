"use strict";(self.webpackChunkmy_contacts_book=self.webpackChunkmy_contacts_book||[]).push([[327],{8909:function(e,r,a){a.d(r,{Z:function(){return t}});var n="Container_container__VVOCq",i=a(184);function t(e){var r=e.children;return(0,i.jsx)("div",{className:n,children:r})}},3139:function(e,r,a){a.d(r,{Z:function(){return h}});var n=a(9439),i=a(5705),t=a(9726),s=a(5048),o=a(6871),l=a(759),m=a(5206),c=a(1089),u={form:"RegistrationForm_form__c8X43",item:"RegistrationForm_item__F5OR7",label:"RegistrationForm_label__zrkEU",button:"RegistrationForm_button__XU1LB",error:"RegistrationForm_error__hvKUg"},d=a(184);function h(e){var r=e.registration,a=(0,s.I0)(),h=(0,t.DW)(),_=(0,n.Z)(h,1)[0],f=(0,t.XQ)(),p=(0,n.Z)(f,1)[0],b=(0,o.s0)();return(0,d.jsx)(i.J9,{initialValues:r?{name:"",email:"",password:""}:{email:"",password:""},validationSchema:c.Ry({name:r&&c.Z_().matches(/(^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$)/,"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan").required("Required"),email:c.Z_().email("Please provide valid e-mail").required("Required"),password:c.Z_().required("No password provided.").min(8,"Password is too short - should be 8 chars minimum.")}),onSubmit:function(e,n){var i=n.setSubmitting,t=n.resetForm;r?_(e).unwrap().then((function(){b("/authorization",{replace:!0}),m.Am.success("Please verify your e-mail")})).catch((function(e){409===e.status&&m.Am.error("User with such email already exist. Do you want to Log in?",{position:m.Am.POSITION.TOP_RIGHT,onClick:function(){return b("/authorization",{replace:!0})}}),m.Am.error(e.data.message,{position:m.Am.POSITION.TOP_RIGHT})})):p(e).unwrap().then((function(e){a((0,l.av)(e)),b("/contacts",{replace:!0})})).catch((function(e){m.Am.error(e.data.message,{position:m.Am.POSITION.TOP_RIGHT})})),i(!1),t({})},children:(0,d.jsxs)(i.l0,{className:u.form,children:[r&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("label",{htmlFor:"name",className:u.label,children:"Name"}),(0,d.jsx)(i.gN,{name:"name",type:"text",className:u.input}),(0,d.jsx)(i.Bc,{name:"name",render:function(e){return(0,d.jsx)("div",{className:u.error,children:e})}})]}),(0,d.jsx)("label",{htmlFor:"email",className:u.label,children:"E-mail"}),(0,d.jsx)(i.gN,{name:"email",type:"email",className:u.input}),(0,d.jsx)(i.Bc,{name:"email",render:function(e){return(0,d.jsx)("div",{className:u.error,children:e})}}),(0,d.jsx)("label",{htmlFor:"password",className:u.label,children:"Password"}),(0,d.jsx)(i.gN,{name:"password",type:"password",className:u.input}),(0,d.jsx)(i.Bc,{name:"password",render:function(e){return(0,d.jsx)("div",{className:u.error,children:e})}}),(0,d.jsx)("button",{type:"submit",className:u.button,children:r?"Register":"Sign in"})]})})}},1613:function(e,r,a){a.r(r),a.d(r,{default:function(){return b}});var n=a(3139),i=a(8909),t=a(9439),s=a(2791),o=a(1268),l=a(9726),m=a(5705),c=a(1089),u=a(5206),d={form:"VerificationForm_form__q7Pm7",label:"VerificationForm_label__eVbt0",button:"VerificationForm_button__aXdGi",error:"VerificationForm_error__zOsBH"},h=a(184);function _(e){var r=e.onClose,a=(0,l.p6)(),n=(0,t.Z)(a,1)[0];return(0,h.jsx)(m.J9,{initialValues:{email:""},validationSchema:c.Ry({email:c.Z_().email("Please provide valid e-mail").required("Required")}),onSubmit:function(e,a){var i=a.setSubmitting,t=a.resetForm;n(e).unwrap().then((function(e){u.Am.success(e.message,{position:u.Am.POSITION.TOP_RIGHT}),r()})).catch((function(e){u.Am.error(e.data.message,{position:u.Am.POSITION.TOP_RIGHT})})),i(!1),t({})},children:(0,h.jsxs)(m.l0,{className:d.form,children:[(0,h.jsx)("label",{htmlFor:"email",className:d.label,children:"E-mail"}),(0,h.jsx)(m.gN,{name:"email",type:"email",className:d.input}),(0,h.jsx)(m.Bc,{name:"email",render:function(e){return(0,h.jsx)("div",{className:d.error,children:e})}}),(0,h.jsx)("button",{type:"submit",className:d.button,children:"Resend verification email"})]})})}var f="VerificationEmail_link__zwQk7";function p(){var e=(0,s.useState)(null),r=(0,t.Z)(e,2),a=r[0],n=r[1],i=function(){n(null)},l=Boolean(a),m=l?"simple-popover":void 0;return(0,h.jsxs)("div",{children:[(0,h.jsx)("p",{onClick:function(e){n(e.currentTarget)},className:f,children:"Resend vefification letter"}),(0,h.jsx)(o.ZP,{id:m,open:l,anchorEl:a,onClose:i,anchorOrigin:{vertical:"bottom",horizontal:"left"},children:(0,h.jsx)(_,{onClose:i})})]})}function b(){return(0,h.jsxs)(i.Z,{children:[(0,h.jsx)(n.Z,{}),(0,h.jsx)(p,{})]})}}}]);
//# sourceMappingURL=authorization.258d2b51.chunk.js.map