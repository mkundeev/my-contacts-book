{"version":3,"file":"static/js/header.11947b73.chunk.js","mappings":"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","sources":["webpack://my-contacts-book/./src/components/Avatar/Avatar.module.css?74bd","components/Avatar/Avatar.js","webpack://my-contacts-book/./src/components/SubscriptionRadioButton/SubscriptionRadioButton.module.css?56eb","components/SubscriptionRadioButton/SubscriptionRadioButton.js","webpack://my-contacts-book/./src/components/UserMenu/UserMenu.module.css?1b0e","components/UserMenu/UserMenu.js","webpack://my-contacts-book/./src/components/Header/Header.module.css?4e72","components/Header/Header.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"avatar\":\"Avatar_avatar__Uauly\"};","import React from 'react';\nimport s from './Avatar.module.css';\n\nexport default function Avatar({ avatar }) {\n  return (\n    <div className={s.avatar}>\n      <img className={s.avatar} alt=\"avatar\" src={avatar} />\n    </div>\n  );\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"SubscriptionRadioButton_container__VdnXT\",\"button\":\"SubscriptionRadioButton_button__58s9x\"};","import { useState } from 'react';\nimport Radio from '@mui/material/Radio';\nimport RadioGroup from '@mui/material/RadioGroup';\nimport FormControlLabel from '@mui/material/FormControlLabel';\nimport FormControl from '@mui/material/FormControl';\nimport FormLabel from '@mui/material/FormLabel';\nimport { useChangeSubscriptionMutation } from 'redux/contactsAPI';\nimport s from './SubscriptionRadioButton.module.css';\n\nexport default function SubscriptionRadioButton({ onClose }) {\n  const [changeSubscription] = useChangeSubscriptionMutation();\n  const [subscription, setSubscription] = useState('');\n\n  const handleChange = e => {\n    setSubscription(e.target.value);\n  };\n  const handleSubmit = e => {\n    e.preventDefault();\n    changeSubscription({ subscription });\n    onClose();\n  };\n\n  return (\n    <div className={s.container}>\n      <FormControl>\n        <FormLabel id=\"subscription-row-radio-buttons-group-label\">\n          Subscription\n        </FormLabel>\n        <RadioGroup\n          row\n          aria-labelledby=\"subscription-row-radio-buttons-group-label\"\n          name=\"subscription-radio-buttons-group\"\n        >\n          <FormControlLabel\n            value=\"starter\"\n            control={<Radio />}\n            label=\"starter\"\n            onChange={handleChange}\n          />\n          <FormControlLabel\n            value=\"pro\"\n            control={<Radio />}\n            label=\"pro\"\n            onChange={handleChange}\n          />\n          <FormControlLabel\n            value=\"business\"\n            control={<Radio />}\n            label=\"business\"\n            onChange={handleChange}\n          />\n        </RadioGroup>\n        <button type=\"submit\" onClick={handleSubmit} className={s.button}>\n          Change subscription\n        </button>\n      </FormControl>\n    </div>\n  );\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"hederList\":\"UserMenu_hederList__O+zPt\",\"link\":\"UserMenu_link__d6eY9\",\"userProfileLink\":\"UserMenu_userProfileLink__P9PTB\",\"button\":\"UserMenu_button__310Zp\",\"visuallyHidden\":\"UserMenu_visuallyHidden__JdMAC\",\"userInfoWrap\":\"UserMenu_userInfoWrap__CvQmI\",\"name\":\"UserMenu_name__Estw5\",\"subscription\":\"UserMenu_subscription__9aH8g\"};","import { useDispatch, useSelector } from 'react-redux';\nimport { useState } from 'react';\nimport { resetUser } from 'redux/reducer';\nimport {\n  useLogOutUserMutation,\n  useChangeAvatarMutation,\n} from 'redux/contactsAPI';\nimport { toast } from 'react-toastify';\nimport Tooltip from '@mui/material/Tooltip';\nimport Popover from '@mui/material/Popover';\nimport { store } from 'redux/store';\nimport { getToken, getAvatar, getSubscription, getName } from 'redux/selectors';\nimport { contactsApi } from 'redux/contactsAPI';\nimport AvatarComponent from 'components/Avatar';\nimport SubscriptionRadioButton from 'components/SubscriptionRadioButton';\nimport s from './UserMenu.module.css';\n\nexport default function UserMenu() {\n  const dispatch = useDispatch();\n  const [logOutUser] = useLogOutUserMutation();\n  const [setAvatar] = useChangeAvatarMutation();\n  const token = useSelector(getToken);\n  const name = useSelector(getName);\n  const avatar = useSelector(getAvatar);\n  const subscription = useSelector(getSubscription);\n\n  const [anchorEl, setAnchorEl] = useState(null);\n\n  const handleClick = event => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n  const open = Boolean(anchorEl);\n  const id = open ? 'simple-popover' : undefined;\n\n  const handleFileInput = async e => {\n    const file = e.target.files[0];\n    if (!file) {\n      return;\n    }\n    if (!(file.type === 'image/jpeg' || file.type === 'image/png')) {\n      toast.error('Avatar shoude be image', {\n        position: toast.POSITION.TOP_RIGHT,\n      });\n      return;\n    }\n    const formData = new FormData();\n    formData.append('avatar', file);\n    await setAvatar(formData).unwrap();\n  };\n\n  return (\n    <>\n      <ul className={s.hederList}>\n        <li className={s.userProfileLink}>\n          <Tooltip title=\"Change avatar\">\n            <label className={s.avatar}>\n              <AvatarComponent avatar={avatar} />\n              <input\n                type=\"file\"\n                className={s.visuallyHidden}\n                onChange={handleFileInput}\n              />\n            </label>\n          </Tooltip>\n          <div className={s.userInfoWrap}>\n            <p className={s.name}>{name}</p>\n            <Tooltip title=\"Change subscription\">\n              <p className={s.subscription} onClick={handleClick}>\n                Subscription: {subscription}\n              </p>\n            </Tooltip>\n          </div>\n        </li>\n        <li className={s.hederListItem}>\n          <button\n            type=\"button\"\n            className={s.button}\n            onClick={() =>\n              logOutUser(token)\n                .unwrap()\n                .then(() => {\n                  dispatch(resetUser());\n                  store.dispatch(contactsApi.util.resetApiState());\n                })\n            }\n          >\n            Log out\n          </button>\n        </li>\n      </ul>\n      <Popover\n        id={id}\n        open={open}\n        anchorEl={anchorEl}\n        onClose={handleClose}\n        anchorOrigin={{\n          vertical: 'bottom',\n          horizontal: 'left',\n        }}\n        transformOrigin={{\n          vertical: 'top',\n          horizontal: 'left',\n        }}\n      >\n        <SubscriptionRadioButton onClose={handleClose} />\n      </Popover>\n    </>\n  );\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"header\":\"Header_header__HXQOm\",\"logo\":\"Header_logo__UsziS\",\"logoSpan\":\"Header_logoSpan__WB-7a\",\"hederList\":\"Header_hederList__IT50G\",\"link\":\"Header_link__xIhZh\",\"linkActive\":\"Header_linkActive__TVRWg Header_link__xIhZh\",\"headerBottomLine\":\"Header_headerBottomLine__CMBwL\"};","import { NavLink } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport { getIsLoggedIn } from 'redux/selectors';\nimport UserMenu from 'components/UserMenu';\nimport s from './Header.module.css';\n\nexport default function Header() {\n  const isLogin = useSelector(getIsLoggedIn);\n  const activeLink = ({ isActive }) => (isActive ? s.linkActive : s.link);\n\n  return (\n    <>\n      <header className={s.header}>\n        <div className={s.logo}>\n          <span className={s.logoSpan}>Contacts</span>book\n        </div>\n        <div className={s.hederLinkWrap}>\n          {!isLogin ? (\n            <ul className={s.hederList}>\n              <li className={s.hederListItem}>\n                <NavLink to=\"/authorization\" className={activeLink}>\n                  Log In\n                </NavLink>\n              </li>\n              <li className={s.hederListItem}>\n                <NavLink to=\"/registration\" className={activeLink}>\n                  Registration\n                </NavLink>\n              </li>\n            </ul>\n          ) : (\n            <UserMenu />\n          )}\n        </div>\n      </header>\n      <div className={s.headerBottomLine}></div>\n    </>\n  );\n}\n"],"names":["Avatar","avatar","className","s","alt","src","SubscriptionRadioButton","onClose","useChangeSubscriptionMutation","changeSubscription","useState","subscription","setSubscription","handleChange","e","target","value","FormControl","FormLabel","id","RadioGroup","row","name","FormControlLabel","control","Radio","label","onChange","type","onClick","preventDefault","UserMenu","dispatch","useDispatch","useLogOutUserMutation","logOutUser","useChangeAvatarMutation","setAvatar","token","useSelector","getToken","getName","getAvatar","getSubscription","anchorEl","setAnchorEl","handleClose","open","Boolean","undefined","handleFileInput","file","files","toast","position","formData","FormData","append","unwrap","Tooltip","title","event","currentTarget","then","resetUser","store","contactsApi","Popover","anchorOrigin","vertical","horizontal","transformOrigin","Header","isLogin","getIsLoggedIn","activeLink","isActive","to"],"sourceRoot":""}